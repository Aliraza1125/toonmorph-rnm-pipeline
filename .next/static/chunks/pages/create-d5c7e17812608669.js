(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{466:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return s(3449)}])},5228:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(5893),n=s(7294);function r(e){let{text:t="",align:s="left"}=e;return(0,a.jsx)("div",{className:"max-w-xl ".concat("right"===s?"ml-auto text-right":""),children:(0,a.jsx)("div",{className:"inline-block bg-white/10 border border-white/15 rounded-2xl px-4 py-2 shadow-glowCyan",children:(0,a.jsx)("p",{className:"leading-relaxed",children:t})})})}function i(e){var t;let{scene:s={}}=e,i=(0,n.useRef)(null),[l,c]=(0,n.useState)(0),o=s.lines||[];(0,n.useEffect)(()=>{c(0)},[s]),(0,n.useEffect)(()=>{if(!o.length)return;let e=o[l];if(e){if(e.audioUrl)i.current.src=e.audioUrl,i.current.onended=()=>setTimeout(()=>c(e=>Math.min(e+1,o.length-1)),300),i.current.play().catch(()=>{});else{let e=setTimeout(()=>c(e=>Math.min(e+1,o.length-1)),2500);return()=>clearTimeout(e)}}},[l,o]);let d=o[l]||{};return(0,a.jsxs)("div",{className:"relative w-full aspect-video overflow-hidden rounded-2xl border border-white/10 bg-black",children:[(0,a.jsx)("img",{src:s.background||"/assets/backgrounds/lab.jpg",alt:"bg",className:"absolute inset-0 w-full h-full object-cover"}),null===(t=s.characters)||void 0===t?void 0:t.map((e,t)=>(0,a.jsx)("img",{src:e.src,alt:e.name,className:"absolute bottom-0 ".concat(0===t?"left-6":"right-6"," w-1/3 drop-shadow-[0_0_25px_rgba(0,229,255,0.35)]")},t)),(0,a.jsx)("div",{className:"absolute bottom-6 left-6 right-6",children:(0,a.jsx)(r,{text:d.text,align:"right"===d.speaker?"right":"left"})}),(0,a.jsx)("audio",{ref:i})]})}},3449:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(5893),n=s(7294),r=s(5228);function i(){let[e,t]=(0,n.useState)("RICK: Morty, get in the portal!\nMORTY: Aw jeez, Rick, again?\nRICK: No time to explain!"),[s,i]=(0,n.useState)({background:"/assets/backgrounds/lab.jpg",characters:[{name:"Rickish",src:"/assets/characters/rickish.png",side:"left"},{name:"Mortoid",src:"/assets/characters/mortoid.png",side:"right"}],lines:[]}),[l,c]=(0,n.useState)(!0),[o,d]=(0,n.useState)(!1),u=async()=>{d(!0);try{let t=await fetch("/api/render",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({script:e,voiceEnabled:l})}),s=await t.json();i(e=>({...e,lines:s.lines}))}catch(e){console.error(e),alert("Render failed")}finally{d(!1)}};return(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Create Episode"}),(0,a.jsx)("textarea",{className:"input h-64",value:e,onChange:e=>t(e.target.value)}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:l,onChange:e=>c(e.target.checked)}),(0,a.jsx)("span",{children:"Enable AI Voice"})]}),(0,a.jsx)("button",{className:"tm-button",onClick:u,disabled:o,children:o?"Renderingâ€¦":"Render Scene"})]}),(0,a.jsxs)("p",{className:"text-white/60 text-sm",children:["Tip: Write lines as ",(0,a.jsx)("code",{children:"NAME: dialogue"})," per line."]})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)(r.Z,{scene:s})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=466)}),_N_E=e.O()}]);